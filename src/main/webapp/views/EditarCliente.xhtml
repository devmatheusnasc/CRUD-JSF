<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<h:outputStylesheet library="css" name="index.css" />
	<link rel="stylesheet"
		href="#{request.contextPath}/webjars/bootstrap/5.1.0/css/bootstrap.min.css" />

	<title>Atualização</title>
</h:head>

<h:body styleClass="bg-light ">

	<p:button icon="ui-icon-arrowthick-1-w"
		styleClass="btn btn-sm btn-secondary position-absolute top-0 start-0"
		outcome="ListarClientes.xhtml" style="width: 50px;" />

	<p:button icon="ui-icon-home"
		styleClass="btn btn-sm btn-secondary top-0 start-0"
		outcome="/Cadastro.xhtml" style="width: 50px; margin-left: 55px;" />

	<p:outputPanel styleClass="container">
		<p:graphicImage library="imagens" name="update.png" width="150"
			styleClass="mx-auto d-block mb-5" />



		<p:growl id="msgs" />

		<h:form id="form"
			styleClass="container justify-content-center col-md-6 col-sm-12  ">


			<p:panel header="Atualização de cliente"
				styleClass="p-mb-5  p-0 text-center ">
				<h:panelGrid columns="2" styleClass="col-10   ">

					<p:outputLabel value="Nome:" for="@next" />
					<p:inputText value="#{bean.novoNome}"
						placeholder="Nome completo" styleClass="form-control ">
						<f:validateBean />
					</p:inputText>

					<p:outputLabel value="E-mail:" for="@next" />
					<p:inputText value="#{bean.novoEmail}"
						placeholder="meu@melhoremail.com"
						styleClass="form-control" />

					<p:outputLabel value="Endereço:" for="@next" />
					<p:inputText value="#{bean.novoEndereco}"
						placeholder="Endereço" styleClass="form-control"/>

					<p:outputLabel value="Telefone:" for="@next" />
					<p:inputMask id="phone" value="#{bean.novoTelefone}"
						mask="(99) 99999-9999" validateMask="true"
						placeholder="Telefone"
						styleClass="form-control" />

					<p:outputLabel value="CPF:" for="@next" />
					<p:inputMask id="cpf" mask="999.999.999-99"
						value="#{bean.novoCpf}" placeholder="XXX.XXX.XXX-XX"
						styleClass="form-control">
						<p:keyFilter regEx="/[0-9]/" />
					</p:inputMask>


				</h:panelGrid>
			</p:panel>

			<h:panelGrid columns="2"
				styleClass="col-12 d-flex justify-content-center">

				<h:panelGroup styleClass="text-center my-3">
					<p:outputLabel />
					
					<p:commandButton value="Atualizar" actionListener="#{bean.atualizar}"
						icon="ui-icon-disk" update="@form"
						styleClass="btn btn-secondary btn-lg btn-block"
						style="width: 100%;">
						
						<p:confirm header="Atualizar"
							message="Tem certeza que deseja atualizar?" />
					</p:commandButton>
				</h:panelGroup>


				<p:confirmDialog global="true">
					<p:commandButton value="Sim" action="#{msg.atualizar}"
						styleClass="ui-confirmdialog-yes btn btn-success mr-2"
						icon="ui-icon-check" update="msgs" />

					<p:commandButton value="Não"
						styleClass="ui-confirmdialog-no btn btn-danger"
						icon="ui-icon-close" />
				</p:confirmDialog>
			</h:panelGrid>

		</h:form>

	</p:outputPanel>
</h:body>
</html>